\section{Strategyproofness: Impossibilities}\label{straproof_imp}

In this section, we go into Gibbard-Satterthwaite Theorem, which claims that Any resolute, nonimposed, and strategyproof SCF for three or more alternatives must be a dictatorship. Conversely, we can find that every resolute, nonimposed, and nondictatorial SCF for three or more alternatives is manipulable.

\begin{theorem}[Gibbard-Satterthwaite Theorem]
    \label{GSTheorem}
    Any resolute, nonimposed, and strategyproof SCF for three or more alternatives must be a dictatorship.
\end{theorem}

Begin with the following definition:

\begin{definition}
    Let $f$ be a resolute social choice function for $m \geq 3$ alternatives, $a, b \in A$ be two distinct alternatives and $X \subseteq N$ be a set of voters. Then we say that $X$ can use $a$ to block $b$, notated $X_{a > b}$, if for every profile $\profile$ wherein each voter in $X$ ranks $a$ over $b$, $f(\profile) \neq b$; \\
    $X$ is a \emph{dictating set} if $X_{z>w}$ holds for every choice $z \neq w$ of distinct alternatives.
\end{definition}

\begin{lemma}[Push-Down Lemma]
    \label{push_down_lemma}
    Let $a,b,c_1,c_2,\dots,c_{m-2}$ enumerate the $m \geq 3$ alternatives in $A$, $f$ be a resolute and down monotonic SCF for $A$, and $\profile$ be any profile with $f(\profile) = a$. Then there exists a profile $\profile^\star$ with $f (\profile^\star) = a$ such that:
    \begin{itemize}
        \item For every voter $i$ with $a \succ_i b$: $\succ^\star_i = a \succ b \succ c_1 \succ \dots \succ c_{m-2}$;
        \item For every voter $i$ with $b \succ_i a$: $\succ^\star_i = b \succ a \succ c_1 \succ \dots \succ c_{m-2}$;
    \end{itemize}
\end{lemma}

\begin{proof}
    The proof is quite intuitive, due to $f$ being down monotonic, $\profile^\star$ can be formed just by dropping simply $c_1,\dots,c_{m-2}$ to the bottom of each ranking one by one. 
\end{proof}

\begin{lemma}
    \label{block_set}
    Let $f$ be a resolute and down monotonic SCF. If there exists a profile $\profile$ for which every voter in $X$ has $a$ over $b$, every voter in $N \backslash X$ has $b$ over $a$, and $f (\profile) = a$, then $X_{a>b}$.
\end{lemma}

\begin{proof}
    Suppose (towards a contradiction) that there is a $\profile$ as stated and not $X_{a>b}$. Choose a second profile $\profile'$ s.t. each voter in $X$ rank $a$ above $b$ and $f(\profile') = b$. If any $\profile'$ voters in $N \backslash X$ have $a$ over $b$, then let them one-at-a-time drop $a$ simply below $b$ to get another new profile $\profile''$. Due to $f$ being down monotonic, $f(\profile'') = b$.
    Applying \cref{push_down_lemma} to both $\profile$ and $\profile''$, we get $\profile^\star$ with $f(\profile^\star) = a$ and $\profile''^\star$ with $f(\profile''^\star) = b$. However, $\profile^\star = \profile''^\star$, contradict.
\end{proof}

\begin{lemma}
    \label{disjoint_sets}
    Let $f$ be a resolute, Pareto, and down monotonic SCF for three or more alternatives. Assume $X_{a>b}$, with $X = Y \cup Z$ split into disjoint subsets $Y$ and $Z$. Let $c$ be any alternative distinct from $a$ and $b$. Then $Y_{a>c}$ or $Z_{c>b}$.
\end{lemma}

\begin{proof}
    Consider a profile below:
    $$
    \begin{array}{ccc}
        Y & Z & N \backslash X\\
        \hline
        a & c & b\\
        b & a & c\\
        c & b & a\\
        \vdots & \vdots & \vdots
    \end{array}
    $$
    Since $f$ is Pareto, $f(\profile) \in \{a,b,c\}$. According to the assumption that $X_{a>b}$, $f(\profile) \neq b$. If $f(\profile) = a$, then by \cref{block_set}, $Y_{a>c}$. Otherwise, $Z_{c>b}$.
\end{proof}

\begin{lemma}
    \label{X_itself}
    Let $f$ be a resolute, Pareto, and down monotonic SCF for three or more alternatives. Assume $X_{a>b}$.Let $c$ be any alternative distinct from $a$ and $b$. Then (i) $X_{a>c}$ and (ii) $X_{c>b}$.
\end{lemma}

\begin{proof}
    Noted that none of conditions in \cref{disjoint_sets} rules out the possibilities of $Y$ or $Z$ being empty. And Pareto implies that $\emptyset_{z>w}$ is impossible. Thus let $X = Y$ and $Z = \emptyset$ in last proof, then we have $X_{a>c}$. Analogously let $Y = \emptyset$, then $X_{c>b}$.
\end{proof}

\begin{lemma}
    \label{dictating_set}
    Let $f$ be a resolute, Pareto, and down monotonic SCF for three or more alternatives. Assume $X_{a>b}$. Then $X$ is a dictating set.
\end{lemma}

\begin{proof}
    Let $a,b,y\in A$ and $X_{a>b}$ hold. We show that $X_{y>z}$ holds for every $z \neq y$. Consider the following cases:
    \begin{itemize}
        \item[\textit{Case 1:}] $y = a$. By \cref{X_itself} (i), we already have for all $z$ distinct from $a$, $X_{a>z}$.
        \item[\textit{Case 2:}] $y \not \in \{a,b\}$. By \cref{X_itself}, $X_{y>b}$. Applying \cref{X_itself} to $X_{y>b}$ again, we then have for every $z$ dsitinct from $y$ and $b$, $X_{y>z}$.
        \item[\textit{Case 3:}] $y = b$. First $X_{a>c}$ holds for $c$ distinct from $a$ and $y$. Then $X_{y>c}$ since $y$ is distinct from $a$ and $c$. Finally we get $X_{y>z}$ from all $z \neq b$.
    \end{itemize}
\end{proof}

\begin{lemma}[Splitting Lemma]
    \label{splitting_lemma}
    Let $f$ be a resolute, Pareto, and down monotonic SCF for three or more alternatives. If a dictating set $X = Y \cup Z$ is split into disjoint subsets $Y$ and $Z$, then either $Y$ is a dictating set, or $Z$ is.
\end{lemma}

\begin{proof}
    Since $X_{a>b}$, by \cref{disjoint_sets}, either $Y_{a>c}$ or $Z_{c>b}$. Using \cref{dictating_set}, either $Y$ is a dictating set of $Z$ is.
\end{proof}

\begin{lemma}[Adjustment Lemma]
    \label{Adjustment_lemma}
    Let $f$ be any resolute, nonimposed SCF (but no longer assume $f$ is Pareto). If $f$ is down monotonic then it is Pareto.
\end{lemma}

\begin{proof}
    Suppose ($\lightning$) that $f$ is not Pareto, i.e. there is a profile $\profile$ s.t. every voter ranks $b$ over $a$ while $f(\profile) = a$. Choose a second profile $\profile'$ with $f(\profile') = b$. Due to $f$ being nonimposed, such a profile nust exist. Now if any voter in $\profile'$ ranks $a$ over $b$, then let him one-at-a-time drop $a$ simply below $b$. By down monotonicity, the resulting profile $\profile''$ satisfies $f(\profile'') = b$. Applying \cref{push_down_lemma} to $\profile$ and $\profile''$ to obtain $\profile^\star$ and $\profile''^\star$ with $\profile^\star = \profile''^\star$, while $f(\profile^\star) = a$ and $f(\profile''^\star) = b$
\end{proof}

\begin{proof}
    for Gibbard-Satterthwaite Theorem\\
    Let $f$ be an SCF satisfying resolute, nonimposed, and strategyproof. Recall \cref{monotonicitys}, $f$ is down monotonic as well. Applying \cref{Adjustment_lemma} we know $f$ is Pareto, thus $N$ itself is a dictating set. Using \cref{splitting_lemma} repeatedly until a singleton has been left, then by \cref{X_itself} and \cref{dictating_set} the singleton is a dictating set.
\end{proof}

There is also a well known variant reformulating \cref{GSTheorem} in terms of monotonicity.

\begin{theorem}
    Any resolute, nonimposed, and Maskin monotonic SCF for three or more alternatives must be a dictatorship.
\end{theorem}

The proof is easy, since Maskin monotonicity implies down monotonicity (\cref{monotonicitys}).\\
~\\
Gibbard-Satterthwaite Theorem seems to give us a negative result, indicating that many voting rules are manipulable. Nevertheless, we should also note that there are manifold limitations inside it.

\begin{enumerate}
    \item It's nearly impossible to achieve a fulfillment of all conditions for single voter manipulation, since if one want to manipulate, at least she has to have access to other's ballot and make sure anyone except her won't manipulate.
    \item The theorem applies only to the social choice function context, with its associated form of ballot---ordinal rankings of the alternatives---and of election outcome. For example, \textit{Social Decision Schemes} escape the Gibbard-Satterthwaite context at the other end---the output---by declaring a probability distribution as the election outcome.
    \item The theorem only applied to \emph{resolute} SCFs. However, in \cref{nonresolute} we have known, in the case of a neutral and anonymous SCF $f$ , ties are often inevitable, suggesting that the theorem might say little about the rules that are of greatest interest.
\end{enumerate}

Now we turn to another significant question, asking that \emph{How many tied outcomes must we be willing to live with, in order to achieve strategyproofness?} Several generalizations of Gibbard-Satterthwaite to irresolute SCFs suggest an answer: \emph{a lot of ties}. To prove it, we first fix some conventions:

\begin{definition}
    \begin{itemize}
        \item For $Z \subseteq A$, let $\mbox{max}_{\succ_i}[Z]$ denote $i$'s top ranked alternative in $Z$ and $\mbox{min}_{succ_i}[Z]$ similarly.
        \item Let $f$ be an SCF, possibly irresolute. We say $f$ is \emph{manipulable by optimists} if for some pair $\profile,\profile'$ of profiles and voter $i$ with $\succsim'_j = succsim_j$ for all $j \neq i$, $\mbox{max}_{\succ_i} [f(\profile')] \; \succ_i \; \mbox{max}_{\succ_i} [f(\profile)]$.
        \item $f$ is \emph{manipulable by pessimists} if for some pair $\profile,\profile'$ of profiles and voter $i$ with $\succsim'_j = \succsim_j$ for all $j \neq i$, $\mbox{min}_{\succ_i} [f(\profile')] \; \succ_i \; \mbox{min}_{\succ_i} [f(\profile)]$.
        \item A voter $k$ is a nominator for $f$ if for every profile $\profile$, $k$'s top-ranked alternative is a member of $f(\profile)$.
        \item The \emph{Omninominator} SCF returns, for each profile $\profile$, the set $\textit{OmNom}(\profile)$ of all alternatives that have been top-ranked by at least one voter.
    \end{itemize}
\end{definition}

The intuition here is that some outside agency will ultimately choose a single winning alternative from the set $f(\profile)$. An ``optimist'' assumes that the chosen $x$ will always be his favorite alternative from $f(\profile)$, hence preferring one set $Z$ of winners to another $Z'$ when $\mbox{max}_{\succ_i}[Z] \succ_i \mbox{max}_{\succ_i}[Z']$. A nominator is a sort of weak dictator. It is easy to check that the Omninominator rule is not manipulable by optimists or by pessimists. This rule is notably irresolute, but it seems that every other example is even worse:

\begin{theorem}[\parencite{Duggan2000}]
    \label{nominator}
    If a nonimposed SCF $f$ for three or more alternatives is not manipulable by optimists and is not manipulable by pessimists, then $f$ must have a nominator.
\end{theorem}

Thus, if $f$ is anonymous, every voter must be a nominator, whence:

\begin{corollary}[Corollary to \cref{nominator}]
    If an anonymous, nonimposed SCF $f$ for three or more alternatives is not manipulable by optimists and is not manipulable by pessimists, then $f (\profile) \supseteq \textit{OmNom}(\profile)$ for every profile $\profile$.
\end{corollary}

Thus, for an anonymous SCF to be strategyproof (in the \cref{nominator} sense) it must have at least as many ties as Omninominator. Moreover, Duggan and Schwartz also show that by requiring $f$ to be minimally more resolute than Omninominator the conclusion of \cref{nominator} can be strengthened to ``$f$ must have a dictator''.\\
~\\
Now we turn back to the proof of \cref{ThCK} in \cref{voting_rules_I}, showing that for functions restricted to the Condorcet domain, no SCF other than Pairwise Majority Rule is resolute, anonymous, neutral, and strategyproof.

\begin{proof}
    \label{second_part_ThCK}
    Let $f: \condom \to A$ be resolute, anonymous, neutral and strategyproof, hence down monotonic. If $f \neq \mbox{PMR}$, choose a profile $\profile \in \condom$ with Condorcet winner $b$ s.t. $f(\profile) = a \neq b$. Applying \cref{push_down_lemma} to obtain a profile $\profile^\star$ with $f(\profile^\star) = a$ s.t. 
    \begin{itemize}
        \item for each voter $i$ with $a \succ_i b$, $\succ^\star_i = a \succ b \succ c_1 \succ \dots \succ c_{m-2}$, and
        \item for each voter $i$ with $b \succ_i a$, $\succ^\star_i = b \succ a \succ c_1 \succ \dots \succ c_{m-2}$.
    \end{itemize}
    Noted that $\profile^\star$ remains within $\condom$, since $|N|$ is odd. Since $b$ is the Condorcet winner, there are more voters having $b \succ^\star_i a$ than having $a \succ^\star_i b$. One ballot at a time, drop $b$ simply below $a$ on enough ballots to reverse those numbers. As $n$ is odd, the evolving profile remains within $\condom$. monotonicity implies $a$ still wins, but neutrality and Anonymity say $b$ wins.
\end{proof}

\section{Strategyproofness: Possibilities}

\begin{definition}
    \begin{itemize}
        \item Let $d_i$ denote $\succsim_i$'s maximal alternative of \emph{ideal point}, i.e. $d_i \succ_i d' \succ_i d''$ for all $d'$ and $d''$ s.t. $d_i > d' >d''$ or $d_i <d'<d''$, where $>$ is a linear order on $A$.
        \item A ballot $\succsim_i$ is \emph{single peaked with respect to} $>$ if $i$'s top-ranked alternative is an ideal point.
        \item A profile $\profile$ is \emph{single peaked} if there exists a common linear order $>$ on $A$ such that every ballot of $\profile$ is single-peaked with respect to $>$.
        \item The \emph{single-peaked domain} is the set of all single peaked profiles (for a given $A$ and $N$), and \emph{the median rule} is the restricted domain SCF that selects the median of voters' ideal points, for each profile in this domain.
    \end{itemize}
\end{definition}

For reasonableness of the median rule, see \textcite{Black1987}.

\begin{theorem}[Black's Theorem]
    Every single-peaked profile $\profile$ yields a transitive pairwise majority preference relation $\geqslant^\mu$. In particular, if $n$ is odd then $\profile \in \condom$, and the median of the ideal points coincides with $\profile$'s Condorcet winner. For odd $n$, the median rule is strategyproof on the single-peaked domain.
\end{theorem}

The \emph{domain restriction} here is quite different from Condorcet extension, as we have restricted individual rankings that voters can choose freely. The phrase ``domain restriction'' is sometimes used to refer exclusively to such restrictions on rankings.

\begin{definition}
    A set $S \subseteq \linearor$ of rankings satisfies \emph{value restriction} if for every set $X \subseteq A$ of three alternatives there exists an $x \in X$ such that no ranking in $S$ ranks $x$ third among members of $X$, or none ranks $x$ second, or none ranks $x$ first.
\end{definition}

\begin{theorem}[Sen's Possibility Theorem]
    Let $S \subseteq \linearor$ be a set of rankings of $A$. Then $S$ is value restricted if and only if $>^\mu$ is transitive for every profile of ballots from $S$ having an odd number of voters.
\end{theorem}

\begin{proof}
    `\emph{Only If}' part: Assume that profile $\profile$ has an odd number $n$ of voters casting ballots from the value restricted set $S$. It suffices to show for an arbitraty set $X = \{a,b,c\}$ of three alternatives that the restriction $>^\mu_{|X}$ of the pairwise majority preference to $X$ is transitive. By value restriction, one of the three---let's say $a$, w.l.o.g.---is excluded from one of the three positions.\\
    If the cases were $a >^mu b$ and $a >^\mu c$ or $b >^mu a$ and $c >^\mu a$, then clearly $>^\mu_{|X}$ is transitive. W.o.l.g. assume $c >^\mu a >^\mu b$. If $a$ is excluded from first among members of $X$, then each voter $i$ in the majority having $a \succ_i b$ agrees that $c \succ_i a \succ_i b$, which coincides with $>^\mu_{|X}$, thus is transitive. If $a$ is excluded from last among members of $X$, then similarly we have the majority agree with $c \succ_i a \succ_i b$, thus also transitive. Finally, with $c >^\mu a >^\mu b$ it is impossible to exclude a from the middle position among $X$'s members, because the majorities with $c \succ_i a$ and with $a \succ_i b$ must have a voter in common.\\
    `\emph{If}' part: Suppose ($\lightning$) that $S$ is not value restricted, choose a set $X = \{a, b, c\} \subseteq A$ s.t. for each $x \in X$ there are elements $\succ^1_x$, $\succ^2_x$, and $\succ^3_x$ of $S$ whose restrictions to $X$ rank $x$ first, second, and third respectively. A table can be used to show that S's restrictions to $X$ are forced to include all three from the set $C_1 ={a \succ b \succ c, c \succ a \succ b, b \succ c \succ a}$ or all three from $C_2 ={a \succ c \succ b, b \succ a \succ c, c \succ b \succ a}$. Any profile of three rankings from $S$ having $C_1$ (or $C_2$) as their restrictions yields a majority cycle.
\end{proof}

\section{Approval Voting}

\begin{definition}
    \begin{itemize}
        \item An \emph{approval ballot} is a subset $X$ of the set $A$ of alternatives where voter $i$ “approves” of exactly those alternatives $x \in X_i$.
        \item Given a profile of approval ballots, the \emph{approval score} of an alternative $x$ is the number of voters who approve of $x$.
        \item The \emph{approval voting} declares the winner(s) to be the alternative(s) with highest approval score.
    \end{itemize}
\end{definition}

Though not being an SCF initially, we can translate the approval voting into an SCF form:

\begin{definition}
    \begin{itemize}
        \item For any voter $i$ and $a,b \in A$, $a \succsim_i b$ iff $a \in X_i$ or $b \not \in X_i$. 
        \item An \emph{indifference class} is an equivalence class under the indifference relation $\sim_i$, defined on the set $A$ of alternatives by $x \sim_i y$ if both $x \succsim_i y$ and $y \succsim_i x$.
    \end{itemize}
\end{definition}

This identifies approval voting with a certain SCF, for which the domain is restricted to the class $\mathcal{R}_2$ of dichotomous preferences, where ballots in $\mathcal{R}_2$ are weak rankings having exactly two (nonempty) indifference classes, one ranked over the other. 

For SCFs identical to approval rule, in simple terms, Approval = Borda = Condorcet. For more details, see the final part of section 2.10 in \textcite{Moulin2016}.